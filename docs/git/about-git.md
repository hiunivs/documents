---
sidebar_position: 1
---

# Git简介

**Git**(发音为:/ɡɪt/)是一个分布式的版本控制软件，2005年由Linux开源社区开发（ Linus Torvalds作出的贡献可能是决定性的），最初的目是用于Linux内核开发的管理工作。

就如同Knuth开发Tex一样，一个用于单一目的的软件最终成长为改变一个行业的产品。对于原作者来说可能也是始料未及的，不过优秀的产品其DNA似乎是一样的，强大的功能性和超强的鲁棒性是它们生命力的来源。

## 历史

同生活中的许多伟大事物一样，Git 诞生于一个极富纷争大举创新的年代。

Linux 内核开源项目有着为数众多的参与者。 绝大多数的 Linux 内核维护工作都花在了提交补丁和保存归档的繁琐事务上（1991－2002年间）。 到 2002 年，整个项目组开始启用一个专有的分布式版本控制系统 BitKeeper 来管理和维护代码。

到了 2005 年，开发 BitKeeper 的商业公司同 Linux 内核开源社区的合作关系结束，他们收回了 Linux 内核社区免费使用 BitKeeper 的权力。 这就迫使 Linux 开源社区（特别是 Linux 的缔造者 Linus Torvalds）基于使用 BitKeeper 时的经验教训，开发出自己的版本系统。 他们对新的系统制订了若干目标：

- 速度
- 简单的设计
- 对非线性开发模式的强力支持（允许成千上万个并行开发的分支）
- 完全分布式
- 有能力高效管理类似 Linux 内核一样的超大规模项目（速度和数据量）

自诞生于 2005 年以来，Git 日臻成熟完善，在高度易用的同时，仍然保留着初期设定的目标。 它的速度飞快，极其适合管理大项目，有着令人难以置信的非线性分支管理系统（参见 Git 分支）。

## 优点

> Git - fast, scalable, distributed revision control system。

快速、可扩展和分布式是Git官方对自己的描述。

### 快速

由于Git分布式系统的特点，对于任何你正在运行的存储库都是本地化的。所以你运行的任何操作都是本地化处理的，因此你会发现Git处理的速度十分快，即使对于大型项目其任何操作都可以快速完成。这主要区别于集中式的存储库，由于集中式的存储库每次运行都需要和服务器进行通信。

Git官方给出了相同项目使用Git和Subversion(简称：SVN)时各类操作的速度对比。在所有的操作中Git均比SVN高出1-2个数量级。

详细性能对比参见[Git官网](https://git-scm.com/about/small-and-fast)。

### 分布式

所谓分布式就是说每一份存储都是一个完整的备份。

这里的分布式很像常说的"去中心化"，任何持有的存储库都是完整的和独立的，不用向任何"集权者"取得联系即可以使用。 即使你的核心存储库发生意外，任何一个存储库都可以替代或者恢复到核心库。 每个存储库都是一个完整的整体，那么对于协同工作的流程来说必可避免的会出现彼此的修改出现冲突，Git提供了优秀的冲突管理和解决机制。对于一个提交与目标库发生冲突则该提交不会被接受，直到冲突解决。

有人可能会问存储库是分布式的，但是绝大多数的项目都需要协同完成，协同工作是不是没有办法进行了？

其实Git分布式特性不但没有对协同带来麻烦，反而提供了更大的灵活性。对于集中式版本控制系统你的任何操作都需要和服务中心进行沟通，所以在集中式版本控制系统下协同工作完全依赖于服务器的协调。对于Git来说他可以很灵活的配置工作流。

### 集中式工作流

你可以像集中式版本控制系统一样维护一个核心的存储库作为代码服务器，然后所有的开发人员只和核心存储库进行联系，拉取别人提交的代码，推送个人开发的代码。

![集中式流程](./src/workflow-a.png)

### 集成管理者工作流

你也可以引入一个集成经理的角色，对于任何提交到核心存储库的代码都必须由集成经理完成，其它任何开发者都需要将自己的代码开发好之后交给集成经理，由集成经理将代码合并后统一提交到核心存储库。而任何开发者都使用核心存储库拉取代码。

常见的Github上的开源项目大部分都是这样运作的。

![集成管理者工作流](./src/workflow-b.png)

### 分系统工作流

对于更加大型的项目来说工作则更加的复杂，可能项目有多个子系统，每个子系统都是由不同的人负责管理。而所有的子系统都由一个最终的总负责人进行集成。

子系统的开发者将开发代码提交到子系统的管理者那里，由子系统的管理者进行集成。而子系统的成果则被提交到总负责人那里进行裁决和集成，最终提交到了核心存储库。而对于每个开发者则是向核心的存储库拉取代码。

![分系统工作流](./src/workflow-c.png)

:::tip
分布式的特性及优秀的设计哲学让Git版本管理上十分灵活，你可以根据任何自己的工作流来配置代码管理工作。 你甚至可以用它来管理你的任何文件，其实Git最初就被设计为像一个小型的文件系统一样工作，所以你可以用它来管理你的任何文件。不过你要明白对于非文本的大型二进制数据文件来说Git在其每一次修改后都会保存一个快照，所以用Git来管理大型的频繁变动的数据文件可能会导致大量存储空间的占用，所以这种情况下使用Git可能不是一个明智的做法。但是对于任何文本类文件的追踪使用Git则绝对是聪明的选择。

我知道很多人认为SVN这样的版本管理软件使用起来更好，我认可以这样的想法，Git的优势再大也不代表其它优秀的软件不好，所以我们只专注于Git的问题，对于如何选择适合自己的版本控制管理软件则取决于个人的喜好。
:::

## 参考资料

- 官方参考手册 [Reference Manual](https://git-scm.com/docs)
- 官方参考书目 [Pro Git](https://git-scm.com/book/zh/v2).
